# 팩토리 패턴
> 생성 패턴 중에서도 가장 기본이 되는 패턴 , 클래스의 객체 생성 처리를 위임
---

## 클래스와 객체지향
> 클래스 선언은 객체를 생성하는 청사진, 클래스에는 객체에서 처리할 행동들을 결정

#### 객체지향

#### 클래스

#### 객체
+ 객체 지향 코드를 실행하기 위해서는 클래스를 통해 객체를 생성
+ new 키워드는 선언된 클래스에 따른 객체를 생성하고 이를 메모리에 할당
+ 객체를 생성하는 과정을 인스턴스화, 인스턴스화를 통해 생성된 객체를 인스턴스라고 한다.

#### 객체사용
+ 인스턴스화는 선언된 클래스를 이용하여 실제 메모리에 할당할 객체를 생성하는 과정
---
## 의존성

#### 객체지향
+ 객체지향 프로그래밍은 수많은 객체의 집합을 설계하는것, 생성된 다수의 객체는 상호 작업을 위한 관계를 설정
+ 관계는 객체 간 동작을 위해 접근하는 것, 개별 객체는 요구되는 역할을 수행하기 위한 책임이 부여.
+ 상호 동작을 수행하여 로직을 처리  
+ 관계가 설정 -> 객체간에 상호 작용이 발생  
+ 객체는 서로 메시지를 전달하며 고유의 기능을 실행

#### 의존
+ 의존은 객체지향에서 객체읜 관계를 설정
+ 객체의 관계는 다른 말로 객체가 서로 결합한다는 의미
+ 객체 내부에서 다른 객체를 생성하면 두 객체 사이에 의존성이 발생
+ 외부에 의해 결합 관계가 발생하는 것을 의존성 주입

#### 객체 선택

#### 강력한 결합
> 코드 내에서 클래스 이름을 직접 지정해 객체를 생성하면 강력한 결합 관계가 발생  
> 강력한 객체의 결합 코드는 향후 유연한 코드 확장을 방해하고 변경과 수정을 어렵게 만드는 원인
```java
public class Hello {
    public String greeting() {
        // 객체를 직접 생성하는 코드.
        final Korean korean = new Korean();
        return korean.text();
    }
}
```

#### 클래스 변경
> 팩토리 패턴은 객체 생서 시 확장과 수정을 쉽게 하기 위한 설계방법  
> 의존 관계가 강력한 결합 관계를 느슨한 결합 관계로 변경하면 유지 보수와 수정이 쉽게 할수있다.  
> 팩토리 패턴은 클래스 구조를 변경하여 생성되는 객체의 구조를 느슨한 관계로 변경

---
## 의존성 주입

#### 복합 객체
> 복합 객체는 하나의 객체가 다른 객체의 정보를 가진 구조  
> 종속적이고 연관 관계를 갖는다는 특성
```java
public class Hello {
    private final Korean korean;

    public Hello(Korean korean) {
        this.korean = korean;
    }

    public String greeting() {
        //복합 객체를 호출합니다.
        return this.korean.text();
    }
}
```

#### 생성과 주입
> 의존성 주입은 객체에 또 다른 객체의 정보를 전달하는 것

---

## 의존 관계의 문제점
> 모든 객체의 생성 과정에서 의존성 발생  
> 팩토리 패턴의 목적은 객체 생성 시 발생하는 강력한 의존 관계를 보다 느슨하게 만드는 것

#### new 키워드
> 인스턴스화를 통해 객체가 생성되면 의존성 발생  
> new 키워드로 직접 객체를 생성하는 것은 강력한 결합 관계 코드가 생성

#### 변화 대응
> 팩토리 패턴은 객체의 생성을 별개의 클래스로 구축하여 위임 처리

#### 생성 위임
> 객체를 생성하고 캡슐화하여 위임하는 것을 factory라고 한다.  

---

## 팩토리 패턴
> 팩토리 패턴은 객체 생성을 위임할 수 있는 클래스를 정의  
> 객체의 생성을 느슨한 관계가 되도록 처리
```java
public class Factory {
    public static Korean getInstance() {
        // 객체를 생성하여 반환
        return new Korean();
    }
}
```
#### 느슨한 결합

#### 동적 팩토리

#### 클래스의 선택
```java
public class Factory {

    public static final String KO = "ko";
    public static final String EN = "en";

    public static Language getInstance(String type) throws RuntimeException {
        if (KO.equals(type)) {
            return new Korean();
        } else if (EN.equals(type)) {
            return new English();
        }
        throw new RuntimeException("지원하지 않는 타입니다.");
    }
}
```
+ 팩토리 패턴은 객체 생성을 위임  
+ 여러 객체의 생성을 책임
+ 클래스가 추가되거나 변경돼도 코드를 쉽게 수정가능

---
## 단순 팩토리
> 팩토리 패턴의 특징과 처리 로직을 간략하게 작성한것

#### 메서드
> 별도의 팩토리 클래스를 생성하지 않고 자기자신의 클래스에 객체 생성을 처리할 수 있느 전용 메서드를 추가하는 것
```java
public class Hello {
    public String greeting() {
        final Language language = Hello.factory();
        return language.text();
    }
    // 단순 팩토리
    public static Language factory() {
        return new Korean();
    }
}
```

#### 단순 팩토리
> 객체 생성 과정이 복잡하지 않을 경우 추가 클래스 파일을 생성하지 않고도 팩토리 패턴을 적용할 수 있다는 것이 장점.  
> 생성자 디자인 패턴 중 가장 많이 사용

---
## 장점과 단점
> 팩토리 패턴을 통해 객체를 생성하면 유연한 코드 작성이 가능 하고 동작도 쉽게 변경

#### 장점
1. 코드에서 생성과 관련된 모든 처리를 별도의 클래스 객체로 위임
2. 유연성과 확장성이 개선
3. 어떤 객체를 생성할지 모르는 초기 단계 코드에 매우 유용 

#### 단점
1. 객체 생성을 위임하는데 별도의 새로운 클래스가 필요